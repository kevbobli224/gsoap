document.addEventListener("DOMContentLoaded",function(t){var e=document.head;var a=document.createElement("style");a.type="text/css";var r=".slider-color { -webkit-appearance: none; width: 100%; height: 15px; border-radius: 5px; background: #d3d3d3; outline: none; opacity: 0.7; -webkit-transition: opacity .15s ease-in-out; transition: opacity .15s ease-in-out;} .setText { position: absolute; top: 3.5em; text-align: center; color: red; font-weight: bold; width: 60px; height: 1em; white-space: nowrap;}";function i(t){var e=t.target||t.srcElement,a=[];if(T.length>=1){for(var r=0;r<T.length;r++)e.getAttribute("title")===T[r].getAttribute("title")&&a.push(T[r]);a.length<1&&T.push(e)}else T.push(e);console.log(a);for(r=0;r<a.length;r++)T.splice(T.indexOf(a[r]),1);s()}function n(t,e){return Object.keys(t).find(a=>t[a]===e)}function s(){I.map(t=>I[t].setAttribute("opacity","100%")),l.map(t=>t.svgId.setAttribute("opacity","100%"));var t=[];T.map(t=>t.setAttribute("opacity","10%"));for(var e=0;e<l.length;e++){for(var a=!0,r=0;r<T.length;r++)n(l[e],T[r].getAttribute("title"))&&(a=!1);a?t.push(l[e]):l[e].svgId.setAttribute("opacity","5%")}var i=t.length>0?t:l;for(e=0;e<i.length;e++)for(r=0;r<u.length;r++){if(parseFloat(i[e][u[r][0]])<parseFloat(u[r][1])||parseFloat(i[e][u[r][0]])>parseFloat(u[r][2])){i[e].svgId.setAttribute("opacity","5%");break}r==u.length-1&&i[e].svgId.setAttribute("opacity","100%")}}function o(t,e,a){var r=document.createElement("div");!function(t,e){for(var a in e)t.setAttribute(a,e[a])}(r,{class:"slider",style:"position: relative",min:e,max:a,id:t});var i=document.createElement("div");i.setAttribute("id","slider-range-"+t),i.setAttribute("class",t);var n=document.createElement("h4");n.innerText="Display "+t+" over:";var s=document.createElement("h5");return s.setAttribute("class",t),s.innerHTML=e+" - "+a,r.append(n),r.append(i),r.append(s),r}a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),e.appendChild(a);var l=[],p=[],d=[],c=[],u=[],h=/([\s\S]*): ([\s\S]*)/,g=document.getElementsByTagName("polygon");if(g.length>0)for(var v=0,f=!1;v<g.length&&!f;)if(g[v].hasAttribute("title")){for(var m=(A=g[v].getAttribute("title").split("&lt;br/&gt;")).length-1,b=0;b<m;b++){var y=h.exec(A[b]);p.push(y[1]),isNaN(parseFloat(y[2]))||(d.push(y[1]),c.push([y[1],NaN,NaN]))}f=!0}else v++;for(v=0;v<g.length;v++)if(g[v].hasAttribute("title")){var x=g[v],A=g[v].getAttribute("title").split("&lt;br/&gt;"),F={};for(b=0;b<A.length-1;b++){if(F[(y=h.exec(A[b]))[1]]=y[2],d.includes(y[1]))for(var N=0;N<d.length;N++)c[N][0]==y[1]&&((parseFloat(y[2])<parseFloat(c[N][1])||isNaN(c[N][1]))&&(c[N][1]=y[2]),(parseFloat(y[2])>parseFloat(c[N][2])||isNaN(c[N][2]))&&(c[N][2]=y[2]))}F.svgId=x,l.push(F)}u=c.slice();var E=document.createElement("div");E.setAttribute("style","top: 45px; right: 20px; position: absolute");for(v=0;v<c.length;v++){var k=c[v],w=o(k[0],k[1],k[2]);E.append(w)}document.getElementsByClassName("girafe_container_std")[0].append(E);var I,T=[],C=setInterval(function(){if("undefined"!=typeof $){I=$("rect[title]");for(var t=0;t<I.length;t++)I[t].addEventListener("click",i);$(".slider").each(function(){var t=$(this),e=parseFloat($(this).attr("min")),a=parseFloat($(this).attr("max")),r=$(this).attr("id");$("div[id^=slider-range]",t).slider({range:!0,min:0,max:100,values:[0,100],slide:function(i,n){var o=(a-e)/100,l=o*parseFloat(n.values[0])+e,p=o*parseFloat(n.values[1])+e;$("h5",t).text(l.toFixed(8)+" - "+p.toFixed(8));for(var d=0;d<u.length;d++)if(u[d][0]==r){u[d][1]=l,u[d][2]=p;break}s()}})}),clearInterval(C)}},10)});